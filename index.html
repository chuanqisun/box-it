<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fulfillment Center Tycoon</title>
  </head>
  <body>
    <div id="ui-layer">
      <div class="label">Current Funds</div>
      <div id="score-display">$<span id="score">600</span></div>
      <div class="label">Time Left</div>
      <div id="timer-display"><span id="timeLeft">60</span>s</div>
      <div class="stat-row">
        <span>Box Cost:</span>
        <span class="cost">-$200</span>
      </div>
      <div class="stat-row">
        <span>Item Value:</span>
        <span class="value">+$100</span>
      </div>
    </div>
    <div id="settings-button-container">
      <button id="settings-button" class="gear-button" commandfor="settingsMenu" command="show-modal" aria-label="Open settings">‚öôÔ∏è</button>
    </div>
    <canvas id="gameCanvas"></canvas>
    <dialog id="startMenu" class="settings-dialog">
      <div class="dialog-header">
        <h2>Box It!</h2>
      </div>
      <div class="dialog-body">
        <p>Ready to start your shift at the fulfillment center?</p>
      </div>
      <div class="dialog-footer">
        <button id="startGame" class="btn btn-primary">Start Game</button>
      </div>
    </dialog>
    <dialog id="settingsMenu" class="settings-dialog">
      <div class="dialog-header">
        <h2>Settings</h2>
        <button class="dialog-close" commandfor="settingsMenu" command="close" aria-label="Close settings">‚úï</button>
      </div>
      <div class="dialog-body">
        <div class="settings-section">
          <label for="apiKeyInput">Google AI Studio API Key</label>
          <input id="apiKeyInput" type="password" placeholder="Paste API key" autocomplete="off" spellcheck="false" />
          <div class="settings-section-footer">
            <button id="clearApiKey" class="btn btn-danger">Clear</button>
            <button id="saveApiKey" class="btn btn-primary">Save</button>
          </div>
        </div>
        <div class="settings-divider"></div>
        <div class="settings-section">
          <label>Object Calibration</label>
          <p class="settings-description">Calibrate physical objects for touch recognition.</p>
          <div id="calibratedObjects" class="calibrated-objects-list"></div>
          <button id="calibrateButton" class="btn btn-secondary">Start Calibration</button>
        </div>
      </div>
    </dialog>
    <dialog id="endGameMenu" class="settings-dialog end-game-dialog">
      <div class="dialog-header">
        <h2 id="endGameTitle">Game Over</h2>
      </div>
      <div class="dialog-body">
        <p id="endGameMessage">Your shift has ended!</p>
        <div class="end-game-stats">
          <div class="stat-item">
            <span class="stat-label">Final Score</span>
            <span id="finalScore" class="stat-value">$0</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Items Processed</span>
            <span id="itemsProcessed" class="stat-value">0</span>
          </div>
        </div>
        <div id="highScoresSection" class="high-scores-section">
          <h3 class="high-scores-title">üèÜ High Scores</h3>
          <div id="highScoresList" class="high-scores-list"></div>
          <div id="nameInputSection" class="name-input-section hidden">
            <p id="newHighScoreMessage" class="new-high-score-message">üéâ New High Score!</p>
            <div class="name-input-row">
              <input id="playerNameInput" type="text" placeholder="Enter your name" maxlength="20" autocomplete="off" aria-label="Enter your name for high score" aria-describedby="newHighScoreMessage" />
              <button id="saveHighScore" class="btn btn-primary">Save</button>
            </div>
          </div>
        </div>
      </div>
      <div class="dialog-footer">
        <button id="restartGame" class="btn btn-primary">Play Again</button>
      </div>
    </dialog>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
